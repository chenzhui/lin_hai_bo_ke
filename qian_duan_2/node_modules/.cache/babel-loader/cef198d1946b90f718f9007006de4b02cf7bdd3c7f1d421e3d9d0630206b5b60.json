{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getCurrentInstance, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport router from \"../Router/First\";\nexport default {\n  setup() {\n    const router = useRouter();\n    const gci = getCurrentInstance();\n    onMounted(() => {\n      gci.data.authorId = router.currentRoute.value.query.authorId;\n      axios.get('//api/GetNameById', {\n        params: {\n          \"id\": gci.data.authorId\n        }\n      }).then(res => {\n        gci.data.name = res.data.data;\n      });\n      axios.get('//api/GetAvatarById', {\n        params: {\n          \"id\": gci.data.authorId\n        }\n      }).then(res => {\n        gci.data.avatar = res.data.data;\n      });\n      axios.get(\"/api/GetOwnerBlogs\", {\n        params: {\n          \"id\": gci.data.authorId\n        }\n      }).then(res => {\n        gci.data.blogData = res.data.data;\n        gci.data.eightBlogCount = Math.ceil(res.data.data.length / 8);\n      });\n    });\n  },\n  data() {\n    return {\n      name: \"\",\n      avatar: 'default.png',\n      blogData: [{}],\n      eightBlogCount: 0,\n      page: 1\n    };\n  },\n  methods: {\n    ToBlog(blogId) {\n      router.push({\n        path: '/Blog',\n        query: {\n          'blogId': blogId\n        }\n      });\n    },\n    PreviousPage() {\n      if (this.page == 1) {\n        alert(\"已经是第一页了\");\n      } else {\n        this.page--;\n      }\n    },\n    NextPage() {\n      if (this.page == this.eightBlogCount) {\n        alert(\"已经是最后一页了\");\n      } else {\n        this.page++;\n      }\n    },\n    SwitchPage(page) {\n      this.page = page;\n    }\n  }\n};","map":{"version":3,"names":["getCurrentInstance","onMounted","axios","useRouter","router","setup","gci","data","authorId","currentRoute","value","query","get","params","then","res","name","avatar","blogData","eightBlogCount","Math","ceil","length","page","methods","ToBlog","blogId","push","path","PreviousPage","alert","NextPage","SwitchPage"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\Follow.vue"],"sourcesContent":["<template>\r\n  <div style=\"display:flex;flex-direction:column;\">\r\n    <div style=\"display:flex;background-color:white;height:200px;\">\r\n      <div style=\"display:flex;margin-top:50px;margin-left:100px;\">\r\n        <img :src=\"'/api/avatar/'+avatar\" style=\"width:100px;height:100px;border-radius:50%;\"/>\r\n        <p style=\"font-size:25px;margin-top:20px;margin-left:20px;width:200px;\">{{name}}</p>\r\n      </div>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:column;align-self:center;width:1000px;height:800px;background-color:white;\">\r\n      <div style=\"display:flex;flex-direction:column;height:700px;\">\r\n        <div v-for=\"item in blogData.slice(page*8-8,page*8)\" :key=\"item.blogId\" @click=\"ToBlog(item.blogId)\" style=\"display:flex;flex-direction:column;cursor:pointer;font-size:18px;margin-top:20px;margin-left:10px;width:1000px;\">\r\n          <div style=\"display:flex;align-items:center;\"><p>标题:{{item.title}}</p><p style=\"margin-left:30px;border-radius:5px;background-color:lightgreen;\">{{item.type}}</p></div>\r\n          <p style=\"margin-top:10px;\">{{item.name}}发布于{{item.birthTime}}</p>\r\n          <hr style=\"height:1px;width:980px;background-color:lightgrey;margin-top:10px;\">\r\n        </div>\r\n      </div>\r\n      <div style=\"display:flex;height:30px;margin-top:50px;margin-left:10px;\">\r\n        <button @click=\"PreviousPage\" style=\"cursor:pointer;width:60px;\">上一页</button>\r\n        <div style=\"display:flex;width:830px;margin-left:30px;\">\r\n          <div v-for=\"item in eightBlogCount\" :key=\"item\" style=\"margin-left:20px;\">\r\n            <button @click=\"SwitchPage(item)\" style=\"cursor:pointer;width:30px;height:30px;\" :class=\"{'focus':item==page}\">{{item}}</button>\r\n          </div>\r\n        </div>\r\n        <button @click=\"NextPage\" style=\"cursor:pointer;width:60px;\">下一页</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\nimport axios from \"axios\";\r\nimport {useRouter} from \"vue-router\";\r\nimport router from \"../Router/First\";\r\nexport default {\r\nsetup(){\r\n  const router=useRouter()\r\n  const gci=getCurrentInstance()\r\n  onMounted(()=>{\r\n    gci.data.authorId=router.currentRoute.value.query.authorId\r\n    axios.get('//api/GetNameById',{params:{\"id\":gci.data.authorId}}).then((res)=>{gci.data.name=res.data.data})\r\n    axios.get('//api/GetAvatarById',{params:{\"id\":gci.data.authorId}}).then((res)=>{gci.data.avatar=res.data.data})\r\n    axios.get(\"/api/GetOwnerBlogs\",{params:{\"id\":gci.data.authorId}}).then((res)=>{gci.data.blogData=res.data.data;gci.data.eightBlogCount=Math.ceil(res.data.data.length/8);})\r\n  })\r\n},\r\ndata(){\r\n  return{\r\n    name:\"\",\r\n    avatar:'default.png',\r\n    blogData:[{}],\r\n    eightBlogCount:0,\r\n    page:1,\r\n  }\r\n},\r\nmethods:{\r\n  ToBlog(blogId){\r\n    router.push({path:'/Blog',query:{'blogId':blogId}})\r\n  },\r\n  PreviousPage(){\r\n    if(this.page==1){\r\n      alert(\"已经是第一页了\")\r\n    }else{\r\n      this.page--\r\n    }\r\n  },\r\n  NextPage(){\r\n    if(this.page==this.eightBlogCount){\r\n      alert(\"已经是最后一页了\")\r\n    }else{\r\n      this.page++\r\n    }\r\n  },\r\n  SwitchPage(page){\r\n    this.page=page\r\n  },\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.focus{background-color:wheat;}\r\n</style>"],"mappings":";AA8BA,SAAQA,kBAAkB,EAAEC,SAAS,QAAO,KAAK;AACjD,OAAOC,KAAI,MAAO,OAAO;AACzB,SAAQC,SAAS,QAAO,YAAY;AACpC,OAAOC,MAAK,MAAO,iBAAiB;AACpC,eAAe;EACfC,KAAKA,CAAA,EAAE;IACL,MAAMD,MAAM,GAACD,SAAS,CAAC;IACvB,MAAMG,GAAG,GAACN,kBAAkB,CAAC;IAC7BC,SAAS,CAAC,MAAI;MACZK,GAAG,CAACC,IAAI,CAACC,QAAQ,GAACJ,MAAM,CAACK,YAAY,CAACC,KAAK,CAACC,KAAK,CAACH,QAAO;MACzDN,KAAK,CAACU,GAAG,CAAC,mBAAmB,EAAC;QAACC,MAAM,EAAC;UAAC,IAAI,EAACP,GAAG,CAACC,IAAI,CAACC;QAAQ;MAAC,CAAC,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAG;QAACT,GAAG,CAACC,IAAI,CAACS,IAAI,GAACD,GAAG,CAACR,IAAI,CAACA,IAAI;MAAA,CAAC;MAC1GL,KAAK,CAACU,GAAG,CAAC,qBAAqB,EAAC;QAACC,MAAM,EAAC;UAAC,IAAI,EAACP,GAAG,CAACC,IAAI,CAACC;QAAQ;MAAC,CAAC,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAG;QAACT,GAAG,CAACC,IAAI,CAACU,MAAM,GAACF,GAAG,CAACR,IAAI,CAACA,IAAI;MAAA,CAAC;MAC9GL,KAAK,CAACU,GAAG,CAAC,oBAAoB,EAAC;QAACC,MAAM,EAAC;UAAC,IAAI,EAACP,GAAG,CAACC,IAAI,CAACC;QAAQ;MAAC,CAAC,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAG;QAACT,GAAG,CAACC,IAAI,CAACW,QAAQ,GAACH,GAAG,CAACR,IAAI,CAACA,IAAI;QAACD,GAAG,CAACC,IAAI,CAACY,cAAc,GAACC,IAAI,CAACC,IAAI,CAACN,GAAG,CAACR,IAAI,CAACA,IAAI,CAACe,MAAM,GAAC,CAAC,CAAC;MAAC,CAAC;IAC5K,CAAC;EACH,CAAC;EACDf,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJS,IAAI,EAAC,EAAE;MACPC,MAAM,EAAC,aAAa;MACpBC,QAAQ,EAAC,CAAC,CAAC,CAAC,CAAC;MACbC,cAAc,EAAC,CAAC;MAChBI,IAAI,EAAC;IACP;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,MAAMA,CAACC,MAAM,EAAC;MACZtB,MAAM,CAACuB,IAAI,CAAC;QAACC,IAAI,EAAC,OAAO;QAACjB,KAAK,EAAC;UAAC,QAAQ,EAACe;QAAM;MAAC,CAAC;IACpD,CAAC;IACDG,YAAYA,CAAA,EAAE;MACZ,IAAG,IAAI,CAACN,IAAI,IAAE,CAAC,EAAC;QACdO,KAAK,CAAC,SAAS;MACjB,CAAC,MAAI;QACH,IAAI,CAACP,IAAI,EAAC;MACZ;IACF,CAAC;IACDQ,QAAQA,CAAA,EAAE;MACR,IAAG,IAAI,CAACR,IAAI,IAAE,IAAI,CAACJ,cAAc,EAAC;QAChCW,KAAK,CAAC,UAAU;MAClB,CAAC,MAAI;QACH,IAAI,CAACP,IAAI,EAAC;MACZ;IACF,CAAC;IACDS,UAAUA,CAACT,IAAI,EAAC;MACd,IAAI,CAACA,IAAI,GAACA,IAAG;IACf;EACF;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}