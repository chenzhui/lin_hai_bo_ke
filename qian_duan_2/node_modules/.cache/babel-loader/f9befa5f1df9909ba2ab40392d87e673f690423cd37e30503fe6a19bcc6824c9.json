{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { getCurrentInstance, onMounted } from \"vue\";\nimport router from \"../Router/First\";\nexport default {\n  setup() {\n    const gci = getCurrentInstance();\n    onMounted(() => {\n      document.title = \"后台管理\";\n      gci.data.id = gci.appContext.config.globalProperties.$id;\n      gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1;\n      axios.get(\"http://114.55.38.94:8001/GetAllUsers\", {\n        params: {\n          id: gci.data.id\n        }\n      }).then(res => {\n        gci.data.users = res.data.data;\n      });\n      axios.get(\"http://114.55.38.94:8001/SelectKinds\").then(res => {\n        gci.data.kinds = res.data.data;\n        gci.data.tenKinds = Math.ceil(res.data.data.length / 8);\n      });\n      axios.get('http://114.55.38.94:8001/GetAllBlogs').then(res => {\n        gci.data.resolvedBlogs = res.data.data;\n        gci.data.tenBlogs = Math.ceil(res.data.data.length / 10);\n      });\n    });\n  },\n  data() {\n    return {\n      resolvedBlogs: [],\n      users: [{}],\n      blogPage: 1,\n      kindPage: 1,\n      tenKinds: 0,\n      tenBlogs: 0,\n      kinds: [],\n      kind: \"\"\n    };\n  },\n  methods: {\n    Go_Master_user() {\n      router.push({\n        path: '/Master/user'\n      });\n    },\n    Go_Master_blog() {\n      router.push({\n        path: '/Master/blog'\n      });\n    },\n    InsertKind() {\n      axios.get('http://114.55.38.94:8001/InsertKind', {\n        params: {\n          \"kind\": this.kind\n        }\n      }).then(function (res) {\n        alert(res.data.data);\n        this.mitt1.emit(\"Reload\");\n      });\n    },\n    DeleteKind(kind) {\n      axios.get('http://114.55.38.94:8001/DeleteKind', {\n        params: {\n          \"kind\": kind\n        }\n      }).then(function (res) {\n        alert(res.data.data);\n        this.mitt1.emit(\"Reload\");\n      });\n    },\n    PreviousKindPage() {\n      if (this.kindPage == 1) {\n        alert(\"已经是第一页了\");\n      } else {\n        this.kindPage--;\n      }\n    },\n    NextKindPage() {\n      if (this.kindPage == this.tenKinds) {\n        alert(\"已经是最后一页了\");\n      } else {\n        this.kindPage++;\n      }\n    },\n    SwitchKindPage(kindPage) {\n      this.kindPage = kindPage;\n    },\n    ToFollow(id) {\n      router.push({\n        path: '/Follow',\n        query: {\n          'authorId': id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","getCurrentInstance","onMounted","router","setup","gci","document","title","data","id","appContext","config","globalProperties","$id","mitt1","$mitt1","get","params","then","res","users","kinds","tenKinds","Math","ceil","length","resolvedBlogs","tenBlogs","blogPage","kindPage","kind","methods","Go_Master_user","push","path","Go_Master_blog","InsertKind","alert","emit","DeleteKind","PreviousKindPage","NextKindPage","SwitchKindPage","ToFollow","query"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\Master_type.vue"],"sourcesContent":["<template>\r\n  <div style=\"display:flex;background-color:#FFFAFA;width:100%;height:900px;\">\r\n    <div style=\"display:flex;flex-direction:column;background-color:grey;width:250px;border-right:solid 1px black;\">\r\n      <div style=\"background-color:lightblue;height:70px;border-bottom:solid 1px grey;\">\r\n        <button @click=\"SwitchActive(-1)\" style=\"color:white;font-size:25px;margin-left:25px;margin-top:20px;background-color: lightblue;cursor:pointer;\">林海博客管理后台</button>\r\n      </div>\r\n      <div style=\"height:60px;border-bottom:solid 1px grey;\">\r\n        <button @click=\"Go_Master_user\" class=\"button0\">用户管理</button>\r\n        <button @click=\"Go_Master_blog\" class=\"button0\">博客管理</button>\r\n        <button @click=\"Go_Master_type\" class=\"button0\">类型管理</button>\r\n      </div>\r\n      <div v-for=\"item in tools\" :key=\"item.index\" style=\"height:60px;border-bottom:solid 1px grey;\">\r\n        <button @click=\"SwitchActive(item.index)\" :class=\"{'button0':true}\">{{item.name}}</button>\r\n      </div>\r\n    </div>\r\n    <div  style=\"display:flex;flex-direction:column;margin-left:50px;margin-top:50px;width:470px;\">\r\n      <div style=\"display:flex;\">\r\n        <p style=\"font-size:20px;margin-left:20px;line-height:40px\">类型:</p>\r\n        <input v-model=\"kind\" style=\"border:solid 1px lightblue;border-radius:10px;height:40px;width:200px;margin-left:20px;font-size:20px;\">\r\n        <button  @click=\"InsertKind\" style=\"background-color:lightblue;color:white;width:120px;height:40px;border-radius:10px;cursor:pointer;margin-left:40px;font-size:20px;\">增加类型</button>\r\n      </div>\r\n      <div style=\"display:flex;margin-top:30px;\">\r\n        <p style=\"border:solid 1px grey;width:60px;text-align:center;height:40px;line-height:40px;font-size:20px;\">序号</p>\r\n        <p style=\"border:solid 1px grey;width:120px;text-align:center;height:40px;line-height:40px;font-size:20px;\">类型</p>\r\n        <p style=\"border:solid 1px grey;width:200px;text-align:center;height:40px;line-height:40px;font-size:20px;\">创建时间</p>\r\n        <p style=\"border:solid 1px grey;width:88px;cursor:pointer;font-size:20px;text-align:center;line-height:40px;\">操作</p>\r\n      </div>\r\n      <div style=\"display:flex;flex-direction:column;height:420px;\">\r\n        <div v-for=\"item in kinds.slice(kindPage*10-10,kindPage*10)\" :key=\"item\" style=\"display:flex;\">\r\n          <p style=\"border:solid 1px grey;width:60px;text-align:center;height:40px;line-height:40px;font-size:20px;\">{{kinds.indexOf(item)}}</p>\r\n          <p style=\"border:solid 1px grey;width:120px;text-align:center;height:40px;line-height:40px;font-size:20px;\">{{item.kind}}</p>\r\n          <p style=\"border:solid 1px grey;width:200px;text-align:center;height:40px;line-height:40px;font-size:20px;\">{{item.birthTime}}</p>\r\n          <button @click=\"DeleteKind(item.kind)\" style=\"background-color:lightblue;color:white;border:solid 1px grey;width:90px;cursor:pointer;font-size:20px\">删除</button>\r\n        </div>\r\n      </div>\r\n      <div style=\"display:flex;height:30px;margin-top:30px;\">\r\n        <button @click=\"PreviousKindPage\" style=\"cursor:pointer;background-color:lightblue;width:60px;\">上一页</button>\r\n        <div style=\"display:flex;width:320px;margin-left:30px;\">\r\n          <div v-for=\"item in tenKinds\" :key=\"item\" style=\"margin-left:20px;\">\r\n            <button @click=\"SwitchKindPage(item)\" style=\"cursor:pointer;width:30px;height:30px;\" :class=\"{'focus':item==kindPage}\">{{item}}</button>\r\n          </div>\r\n        </div>\r\n        <button @click=\"NextKindPage\" style=\"cursor:pointer;background-color:lightblue;width:60px;\">下一页</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\nimport router from \"../Router/First\";\r\nexport default {\r\n  setup(){\r\n    const gci=getCurrentInstance()\r\n    onMounted(()=>{\r\n      document.title=\"后台管理\"\r\n      gci.data.id = gci.appContext.config.globalProperties.$id\r\n      gci.data.mitt1=gci.appContext.config.globalProperties.$mitt1\r\n      axios.get(\"http://114.55.38.94:8001/GetAllUsers\",{params:{id:gci.data.id}}).then((res)=>{gci.data.users=res.data.data})\r\n      axios.get(\"http://114.55.38.94:8001/SelectKinds\").then((res)=>{\r\n        gci.data.kinds=res.data.data\r\n        gci.data.tenKinds=Math.ceil(res.data.data.length/8)\r\n      })\r\n      axios.get('http://114.55.38.94:8001/GetAllBlogs').then((res)=>{\r\n        gci.data.resolvedBlogs=res.data.data\r\n        gci.data.tenBlogs=Math.ceil(res.data.data.length/10)\r\n      })\r\n    })\r\n  },\r\n  data(){\r\n    return{\r\n      resolvedBlogs:[],\r\n      users:[{}],\r\n      blogPage:1,\r\n      kindPage:1,\r\n      tenKinds:0,\r\n      tenBlogs:0,\r\n      kinds:[],\r\n      kind:\"\",\r\n    }\r\n  },\r\n  methods:{\r\n    Go_Master_user(){\r\n      router.push({path:'/Master/user'})\r\n    },\r\n    Go_Master_blog(){\r\n      router.push({path:'/Master/blog'})\r\n    },\r\n    InsertKind(){\r\n      axios.get('http://114.55.38.94:8001/InsertKind',{params:{\"kind\":this.kind}}).then(function (res){\r\n        alert(res.data.data)\r\n        this.mitt1.emit(\"Reload\")\r\n      })\r\n    },\r\n    DeleteKind(kind){\r\n      axios.get('http://114.55.38.94:8001/DeleteKind',{params:{\"kind\":kind}}).then(function(res){\r\n        alert(res.data.data)\r\n        this.mitt1.emit(\"Reload\")\r\n      })\r\n    },\r\n    PreviousKindPage(){\r\n      if(this.kindPage==1){\r\n        alert(\"已经是第一页了\")\r\n      }else{\r\n        this.kindPage--\r\n      }\r\n    },\r\n    NextKindPage(){\r\n      if(this.kindPage==this.tenKinds){\r\n        alert(\"已经是最后一页了\")\r\n      }else{\r\n        this.kindPage++\r\n      }\r\n    },\r\n    SwitchKindPage(kindPage){\r\n      this.kindPage=kindPage\r\n    },\r\n    ToFollow(id){\r\n      router.push({path:'/Follow',query:{'authorId':id}})\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.button0{background-color:lightblue;width:250px;height:60px;cursor:pointer;font-size:22px;color:white;}\r\n.focus{background-color:lightblue;}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}