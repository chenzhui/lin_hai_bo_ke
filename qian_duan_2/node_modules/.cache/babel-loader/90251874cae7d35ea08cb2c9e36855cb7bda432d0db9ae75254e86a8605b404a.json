{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from \"../Router/First\";\nimport { onMounted, ref } from \"vue\";\nexport default {\n  setup() {\n    let SecondInput = ref(null);\n    let ThridInput = ref(null);\n    let FourthInput = ref(null);\n    onMounted(() => {\n      document.title = '注册';\n    });\n    return {\n      SecondInput,\n      ThridInput,\n      FourthInput\n    };\n  },\n  data() {\n    return {\n      phone: \"\",\n      password: \"\",\n      name: \"\",\n      keys: \"\",\n      judge: 0,\n      hasSpace: false,\n      lengthOk: true,\n      phoneOk: true,\n      nameOk: true,\n      passwordOk: true,\n      keysOk: true,\n      yanZhengMa: \"点击获取验证码\",\n      isSixty: false\n    };\n  },\n  methods: {\n    Send() {\n      let that = this;\n      this.isSixty = true;\n      let sixtyStart = Date.now();\n      axios.get(\"http://114.55.38.94:8001/Send\", {\n        params: {\n          \"phone\": this.phone\n        }\n      }).then(function (res) {\n        if (res.data.data == \"发送验证码成功\") {\n          const interval = setInterval(() => {\n            that.yanZhengMa = 60 - Math.trunc((Date.now() - sixtyStart) / 1000);\n            if (that.yanZhengMa <= 0) {\n              clearInterval(interval);\n              that.yanZhengMa = \"点击获取验证码\";\n              that.isSixty = false;\n            }\n          }, 1000);\n        } else {\n          alert(res.data.data);\n        }\n      });\n    },\n    RegisterUser() {\n      let register = new URLSearchParams();\n      register.append(\"phone\", this.phone);\n      register.append(\"name\", this.name);\n      register.append(\"password\", this.password);\n      register.append(\"keys\", this.keys);\n      axios.post(\"http://114.55.38.94:8001/Register\", register, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(function (res) {\n        if (res.data.data == \"注册成功\") {\n          router.push(\"/Login\");\n          alert(\"注册成功，请登录\");\n        } else {\n          alert(res.data.data);\n        }\n      });\n    },\n    Blur() {\n      this.judge = 0;\n    },\n    ShowPhone() {\n      this.judge = 1;\n      this.JudgePhone();\n    },\n    ShowName() {\n      this.judge = 2;\n      this.JudgeName();\n    },\n    ShowPassword() {\n      this.judge = 3;\n      this.JudgePassword();\n    },\n    ShowKeys() {\n      this.judge = 4;\n      this.JudgeKeys();\n    },\n    JudgePhone() {\n      if (this.phone.length == 11) {\n        this.phoneOk = true;\n      } else {\n        this.phoneOk = false;\n      }\n    },\n    JudgeName() {\n      if (this.name.length > 0 && this.name.length <= 10) {\n        this.nameOk = true;\n      } else {\n        this.nameOk = false;\n      }\n    },\n    JudgePassword() {\n      if (this.password.indexOf(\" \") != -1) {\n        this.hasSpace = true;\n      } else {\n        this.hasSpace = false;\n      }\n      if (5 < this.password.length && this.password.length < 13) {\n        this.lengthOk = true;\n      } else {\n        this.lengthOk = false;\n      }\n      if (this.lengthOk == true && !this.hasSpace) {\n        this.passwordOk = true;\n      } else {\n        this.passwordOk = false;\n      }\n    },\n    JudgeKeys() {\n      if (this.keys.length == 4) {\n        this.keysOk = true;\n      } else {\n        this.keysOk = false;\n      }\n    },\n    GoSecondInput() {\n      this.SecondInput.focus();\n    },\n    GoThridInput() {\n      this.ThridInput.focus();\n    },\n    GoFourthInput() {\n      this.FourthInput.focus();\n    }\n  }\n};","map":{"version":3,"names":["axios","router","onMounted","ref","setup","SecondInput","ThridInput","FourthInput","document","title","data","phone","password","name","keys","judge","hasSpace","lengthOk","phoneOk","nameOk","passwordOk","keysOk","yanZhengMa","isSixty","methods","Send","that","sixtyStart","Date","now","get","params","then","res","interval","setInterval","Math","trunc","clearInterval","alert","RegisterUser","register","URLSearchParams","append","post","headers","push","Blur","ShowPhone","JudgePhone","ShowName","JudgeName","ShowPassword","JudgePassword","ShowKeys","JudgeKeys","length","indexOf","GoSecondInput","focus","GoThridInput","GoFourthInput"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\Register.vue"],"sourcesContent":["<template>\r\n<div style=\"display:flex;flex-direction:column;align-items:center;margin-top:30px;\">\r\n    <p style=\"background-color:deepskyblue;color:white;font-size:1.4rem;width:8%;text-align:center;border-radius:5px;margin-top:10px;margin-top:10px;margin-bottom:10px;height:30px;line-height:30px;\">注册页面</p>\r\n    <div style=\"display:flex;flex-direction:column;min-height:60px;width:40%;align-items:center;margin-top:20px;\">\r\n      <input @keydown.enter=\"GoSecondInput\" :class=\"{'focus':this.judge==1,'wrong':!phoneOk}\" style=\"width:100%;height:40px;border-radius:5px;font-size:1rem;\" v-model=\"phone\" @blur=\"Blur\" @focus=\"ShowPhone\" @input=\"JudgePhone\" placeholder=\"输入您的电话(账号)\">\r\n      <div v-if=\"judge==1\" style=\"display:flex;flex-direction:column\">\r\n        <div style=\"display:flex;margin:5px 0 5px 0;\">\r\n          <img v-if=\"phoneOk\" src=\"http://114.55.38.94:8001/picture/green.png\">\r\n          <img v-else src=\"http://114.55.38.94:8001/picture/info.png\">\r\n          <p style=\"margin-left:10px;font-size:1rem;\">电话长度应为11</p>\r\n        </div>\r\n      </div>\r\n      <p v-else-if=\"!phoneOk\" style=\"color:red;font-size:1rem;margin:5px 0 5px 0;\">电话长度不符</p>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:column;min-height:60px;width:40%;align-items:center;margin-top:20px;\">\r\n      <input ref=\"SecondInput\" @keydown.enter=\"GoThridInput\" :class=\"{'focus':this.judge==2,'wrong':!nameOk}\"  style=\"width:100%;height:40px;border-radius:5px;font-size:1rem;\" v-model=\"name\" @blur=\"Blur\" @focus=\"ShowName\" @input=\"JudgeName\" placeholder=\"输入您的昵称\">\r\n      <div v-if=\"judge==2\" style=\"display:flex;flex-direction:column\">\r\n        <div style=\"display:flex;margin:5px 0 5px 0;\">\r\n          <img v-if=\"nameOk\" src=\"http://114.55.38.94:8001/picture/green.png\">\r\n          <img v-else src=\"http://114.55.38.94:8001/picture/info.png\">\r\n          <p style=\"margin-left:10px;font-size:1rem;\">昵称长度应小于等于10且不为空</p>\r\n        </div>\r\n      </div>\r\n      <p v-else-if=\"!nameOk\" style=\"color:red;font-size:1rem;margin:5px 0 5px 0;\">昵称长度不符</p>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:column;min-height:60px;width:40%;align-items:center;margin-top:20px;\">\r\n      <input ref=\"ThridInput\" @keydown.enter=\"GoFourthInput\" :class=\"{'focus':this.judge==3,'wrong':!passwordOk}\" style=\"width:100%;height:40px;border-radius:5px;font-size:1rem;\" v-model=\"password\" @blur=\"Blur\" @focus=\"ShowPassword\" @input=\"JudgePassword\" placeholder=\"输入您的密码\" type=\"password\">\r\n      <div v-if=\"judge==3\" style=\"display:flex;flex-direction:column;\">\r\n        <div style=\"display:flex;\">\r\n          <img v-if=\"!hasSpace\" src=\"http://114.55.38.94:8001/picture/green.png\">\r\n          <img v-else src=\"http://114.55.38.94:8001/picture/info.png\">\r\n          <p style=\"margin-left:10px;font-size:1rem;\">不能包括空格</p>\r\n        </div>\r\n        <div style=\"display:flex;\">\r\n          <img v-if=\"lengthOk\" src=\"http://114.55.38.94:8001/picture/green.png\">\r\n          <img v-else src=\"http://114.55.38.94:8001/picture/info.png\">\r\n          <p style=\"margin-left:10px;font-size:1rem;\">长度为6-12个字符</p>\r\n        </div>\r\n      </div>\r\n      <p v-else-if=\"!passwordOk\" style=\"color:red;font-size:1rem;margin:5px 0 5px 0;\">密码不符合条件</p>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:row;min-height:60px;width:40%;align-items:center;margin-top:20px;\">\r\n      <input ref=\"FourthInput\" @keydown.enter=\"RegisterUser\" :class=\"{'focus':this.judge==4,'wrong':!keysOk}\" style=\"width:10rem;height:40px;border-radius:5px;font-size:1rem;\" v-model=\"keys\" @blur=\"Blur\" @focus=\"ShowKeys\" @input=\"JudgeKeys\" placeholder=\"输入短信验证码\" type=\"text\">\r\n      <button :disabled=\"isSixty\" @click=\"Send($event)\" style=\"margin-left:20rem;width:10rem;height:3rem;cursor:pointer;background-color:deepskyblue;border-radius:5px;align-self:center;color:white;font-size:1rem;\" v-text=\"yanZhengMa\"></button>\r\n    </div>\r\n    <div v-if=\"judge==4\" style=\"display:flex;\">\r\n      <img v-if=\"keysOk\" src=\"http://114.55.38.94:8001/picture/green.png\">\r\n      <img v-else src=\"http://114.55.38.94:8001/picture/info.png\">\r\n      <p style=\"margin-left:10px;font-size:1rem;\">验证码长度为4位</p>\r\n    </div>\r\n    <p v-else-if=\"!keysOk\" style=\"color:red;font-size:1rem;margin:5px 0 5px 0;\">验证码不能为空</p>\r\n\r\n    <button style=\";height:3rme;cursor:pointer;background-color:deepskyblue;border-radius:5px;color:white;font-size:1rem;height:30px;margin-top:20px;\" v-on:click=\"RegisterUser\">注册</button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport router from \"../Router/First\";\r\nimport { onMounted, ref} from \"vue\";\r\nexport default {\r\nsetup(){\r\n  let SecondInput=ref(null)\r\n  let ThridInput=ref(null)\r\n  let FourthInput=ref(null)\r\n  onMounted(()=>{\r\n    document.title='注册'\r\n  })\r\n  return{\r\n    SecondInput,ThridInput,FourthInput\r\n  }\r\n},\r\ndata(){\r\n  return{\r\n    phone:\"\",\r\n    password:\"\",\r\n    name:\"\",\r\n    keys:\"\",\r\n    judge:0,\r\n    hasSpace:false,\r\n    lengthOk:true,\r\n    phoneOk:true,\r\n    nameOk:true,\r\n    passwordOk:true,\r\n    keysOk:true,\r\n    yanZhengMa:\"点击获取验证码\",\r\n    isSixty:false,\r\n  }\r\n},\r\nmethods:{\r\n  Send(){\r\n    let that=this\r\n    this.isSixty=true\r\n    let sixtyStart=Date.now()\r\n    axios.get(\"http://114.55.38.94:8001/Send\",{params:{\"phone\":this.phone}}).then(function (res){\r\n      if(res.data.data==\"发送验证码成功\"){\r\n        const interval=setInterval(()=>{\r\n          that.yanZhengMa=60-Math.trunc((Date.now()-sixtyStart)/1000)\r\n          if(that.yanZhengMa<=0){\r\n            clearInterval(interval)\r\n            that.yanZhengMa=\"点击获取验证码\"\r\n            that.isSixty=false\r\n          }\r\n        },1000)\r\n      }else{\r\n        alert(res.data.data)\r\n      }\r\n    })\r\n  },\r\n  RegisterUser(){\r\n    let register=new URLSearchParams\r\n    register.append(\"phone\",this.phone)\r\n    register.append(\"name\",this.name)\r\n    register.append(\"password\",this.password)\r\n    register.append(\"keys\",this.keys)\r\n    axios.post(\"http://114.55.38.94:8001/Register\",register,{headers:{'Content-Type': 'application/x-www-form-urlencoded'}}).then(function (res){\r\n      if(res.data.data==\"注册成功\"){\r\n        router.push(\"/Login\")\r\n        alert(\"注册成功，请登录\")\r\n      }else{\r\n        alert(res.data.data)\r\n      }\r\n    })\r\n  },\r\n  Blur(){\r\n    this.judge=0\r\n  },\r\n  ShowPhone(){\r\n    this.judge=1\r\n    this.JudgePhone()\r\n  },\r\n  ShowName(){\r\n    this.judge=2\r\n    this.JudgeName()\r\n  },\r\n  ShowPassword(){\r\n    this.judge=3\r\n    this.JudgePassword()\r\n  },\r\n  ShowKeys(){\r\n    this.judge=4\r\n    this.JudgeKeys()\r\n  },\r\n  JudgePhone(){\r\n    if(this.phone.length==11){\r\n      this.phoneOk=true\r\n    }else{\r\n      this.phoneOk=false\r\n    }\r\n  },\r\n  JudgeName(){\r\n    if(this.name.length>0&&this.name.length<=10){\r\n      this.nameOk=true\r\n    }else{\r\n      this.nameOk=false\r\n    }\r\n  },\r\n  JudgePassword(){\r\n    if(this.password.indexOf(\" \")!=-1){\r\n      this.hasSpace=true\r\n    }else{\r\n      this.hasSpace=false\r\n    }\r\n    if(5<this.password.length&&this.password.length<13){\r\n      this.lengthOk=true\r\n    }else{\r\n      this.lengthOk=false\r\n    }\r\n    if(this.lengthOk==true&&!this.hasSpace){\r\n      this.passwordOk=true\r\n    }else{\r\n      this.passwordOk=false\r\n    }\r\n  },\r\n  JudgeKeys(){\r\n    if(this.keys.length==4){\r\n      this.keysOk=true\r\n    }else{\r\n      this.keysOk=false\r\n    }\r\n  },\r\n  GoSecondInput(){\r\n    this.SecondInput.focus()\r\n  },\r\n  GoThridInput(){\r\n    this.ThridInput.focus()\r\n  },\r\n  GoFourthInput(){\r\n    this.FourthInput.focus()\r\n  },\r\n}\r\n}\r\n</script>\r\n<style scoped>*{margin:0;padding:0;list-style:none;text-decoration:none;border:0;outline:none;}\r\n.focus{border:1px solid deepskyblue;}\r\n.wrong{border:1px solid red;}</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}