{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport router from \"../Router/First\";\nimport { getCurrentInstance, onMounted } from \"vue\";\nexport default {\n  setup() {\n    const gci = getCurrentInstance();\n    onMounted(async () => {\n      document.title = \"修改昵称\";\n      gci.data.id = gci.appContext.config.globalProperties.$id;\n      gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1;\n    });\n  },\n  data() {\n    return {\n      id: \"\",\n      password: \"\",\n      password1: \"\",\n      password2: \"\"\n    };\n  },\n  methods: {\n    ChangePassword() {\n      if (this.password1 == this.password2) {\n        const that = this;\n        axios.get('//api/ChangePassword', {\n          params: {\n            \"id\": this.id,\n            \"oldPassword\": this.password,\n            \"password\": this.password1\n          }\n        }).then(function (res) {\n          if (res.data.data == \"修改密码成功\") {\n            router.push('/Login');\n            that.mitt1.emit(\"Reload\");\n            alert(\"修改成功,请重新登录\");\n          } else {\n            alert(res.data.data);\n          }\n        });\n      } else {\n        alert(\"两次输入的密码不同\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","router","getCurrentInstance","onMounted","setup","gci","document","title","data","id","appContext","config","globalProperties","$id","mitt1","$mitt1","password","password1","password2","methods","ChangePassword","that","get","params","then","res","push","emit","alert"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\ChangePassword.vue"],"sourcesContent":["<template>\r\n  <div style=\"margin-left:10rem;display:flex;flex-direction:column;width:20rem;\">\r\n    <p style=\"align-self:center;color:deepskyblue;font-size:2rem;\">修改密码</p>\r\n    <input v-model=\"password\" placeholder=\"请输入您的原密码\" style=\"border-radius:5px;margin-top:1rem;border:solid 1px black;height:3rem;width:20rem;font-size:1rem;\">\r\n    <input v-model=\"password1\" placeholder=\"请输入您的新密码\" style=\"border-radius:5px;margin-top:10px;border:solid 1px black;height:3rem;width:20rem;font-size:1rem;\" type=\"password\">\r\n    <input v-model=\"password2\" placeholder=\"确认您的新密码\" style=\"border-radius:5px;margin-top:10px;border:solid 1px black;height:3rem;width:20rem;font-size:1rem;\" type=\"password\">\r\n    <button @click=\"ChangePassword\" style=\"align-self:center;background-color:deepskyblue;color:white;border-radius:5px;margin-top:1rem;width:10rem;height:3rem;cursor:pointer;font-size:1.5rem;\">确认修改</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport router from \"../Router/First\";\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\n\r\nexport default{\r\n  setup() {\r\n  const gci = getCurrentInstance()\r\n  onMounted(async () => {\r\n    document.title = \"修改昵称\"\r\n    gci.data.id = gci.appContext.config.globalProperties.$id\r\n    gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1\r\n  })\r\n},\r\ndata(){\r\n  return{\r\n    id:\"\",\r\n    password: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  }\r\n},\r\nmethods:{\r\n  ChangePassword(){\r\n    if(this.password1 == this.password2){\r\n      const that = this\r\n      axios.get('//api/ChangePassword', {params:{\"id\":this.id,\"oldPassword\":this.password,\"password\":this.password1}}).then(function (res) {\r\n        if (res.data.data==\"修改密码成功\"){\r\n          router.push('/Login')\r\n          that.mitt1.emit(\"Reload\")\r\n          alert(\"修改成功,请重新登录\")\r\n        }else{\r\n          alert(res.data.data)\r\n        }\r\n      })\r\n    } else {\r\n      alert(\"两次输入的密码不同\")\r\n    }\r\n  },\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AAWA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,iBAAiB;AACpC,SAAQC,kBAAkB,EAAEC,SAAS,QAAO,KAAK;AAEjD,eAAc;EACZC,KAAKA,CAAA,EAAG;IACR,MAAMC,GAAE,GAAIH,kBAAkB,CAAC;IAC/BC,SAAS,CAAC,YAAY;MACpBG,QAAQ,CAACC,KAAI,GAAI,MAAK;MACtBF,GAAG,CAACG,IAAI,CAACC,EAAC,GAAIJ,GAAG,CAACK,UAAU,CAACC,MAAM,CAACC,gBAAgB,CAACC,GAAE;MACvDR,GAAG,CAACG,IAAI,CAACM,KAAI,GAAIT,GAAG,CAACK,UAAU,CAACC,MAAM,CAACC,gBAAgB,CAACG,MAAK;IAC/D,CAAC;EACH,CAAC;EACDP,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,EAAE,EAAC,EAAE;MACLO,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE;IACb;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,cAAcA,CAAA,EAAE;MACd,IAAG,IAAI,CAACH,SAAQ,IAAK,IAAI,CAACC,SAAS,EAAC;QAClC,MAAMG,IAAG,GAAI,IAAG;QAChBrB,KAAK,CAACsB,GAAG,CAAC,sBAAsB,EAAE;UAACC,MAAM,EAAC;YAAC,IAAI,EAAC,IAAI,CAACd,EAAE;YAAC,aAAa,EAAC,IAAI,CAACO,QAAQ;YAAC,UAAU,EAAC,IAAI,CAACC;UAAS;QAAC,CAAC,CAAC,CAACO,IAAI,CAAC,UAAUC,GAAG,EAAE;UACnI,IAAIA,GAAG,CAACjB,IAAI,CAACA,IAAI,IAAE,QAAQ,EAAC;YAC1BP,MAAM,CAACyB,IAAI,CAAC,QAAQ;YACpBL,IAAI,CAACP,KAAK,CAACa,IAAI,CAAC,QAAQ;YACxBC,KAAK,CAAC,YAAY;UACpB,CAAC,MAAI;YACHA,KAAK,CAACH,GAAG,CAACjB,IAAI,CAACA,IAAI;UACrB;QACF,CAAC;MACH,OAAO;QACLoB,KAAK,CAAC,WAAW;MACnB;IACF;EACF;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}