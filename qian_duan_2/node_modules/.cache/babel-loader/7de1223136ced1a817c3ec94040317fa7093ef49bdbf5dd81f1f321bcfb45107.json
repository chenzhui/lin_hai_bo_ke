{"ast":null,"code":"import axios from \"axios\";\nimport { getCurrentInstance, onMounted } from \"vue\";\nexport default {\n  setup() {\n    const gci = getCurrentInstance();\n    onMounted(async () => {\n      document.title = \"修改昵称\";\n      gci.data.id = gci.appContext.config.globalProperties.$id;\n      gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1;\n      axios.get('http://114.55.38.94:8001/GetNameById', {\n        params: {\n          \"id\": gci.data.id\n        }\n      }).then(res => {\n        gci.data.oldName = res.data.data;\n      });\n    });\n  },\n  data() {\n    return {\n      oldName: \"\",\n      targetName: \"\"\n    };\n  },\n  methods: {\n    ChangeName() {\n      const that = this;\n      axios.get('http://114.55.38.94:8001/ChangeName', {\n        params: {\n          \"id\": this.id,\n          'name': this.targetName\n        }\n      }).then(function (res) {\n        if (res.data.data == \"修改昵称成功\") {\n          alert(\"修改昵称成功\");\n          that.mitt1.emit('Reload');\n        } else {\n          alert(res.data.data);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","getCurrentInstance","onMounted","setup","gci","document","title","data","id","appContext","config","globalProperties","$id","mitt1","$mitt1","get","params","then","res","oldName","targetName","methods","ChangeName","that","alert","emit"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\ChangeName.vue"],"sourcesContent":["<template style=\"display:flex;flex-direction:column;\">\r\n  <div style=\"display:flex;flex-direction:column;margin-left:5rem;width:80rem;background-color: white;align-self:center;margin-top:4rem;\">\r\n    <p style=\"margin-left:2rem;color:deepskyblue;font-size:2rem;\">修改昵称</p>\r\n    <p style=\"margin-left:2rem;font-size:2rem;\">{{ oldName }}</p>\r\n    <input type=\"text\" placeholder=\"请输入您的新昵称\" v-model=\"targetName\" style=\"border-radius:5px;margin-top:1rem;border:solid 1px black;height:30px;width:12rem;font-size:1rem;\">\r\n    <button @click=\"ChangeName\" style=\"background-color:deepskyblue;color:white;border-radius:5px;margin-top:2rem;width:8rem;height:2rem;cursor:pointer;font-size:1.5rem;\">确认修改</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {getCurrentInstance, onMounted} from \"vue\";\r\n\r\nexport default {\r\nsetup() {\r\n  const gci = getCurrentInstance()\r\n  onMounted(async () => {\r\n    document.title = \"修改昵称\"\r\n    gci.data.id = gci.appContext.config.globalProperties.$id\r\n    gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1\r\n    axios.get('http://114.55.38.94:8001/GetNameById',{params:{\"id\":gci.data.id}}).then((res) => {\r\n      gci.data.oldName = res.data.data\r\n    })\r\n  })\r\n},\r\ndata(){\r\n  return{\r\n    oldName:\"\",\r\n    targetName:\"\",\r\n  }\r\n},\r\nmethods:{\r\n  ChangeName() {\r\n    const that = this\r\n    axios.get('http://114.55.38.94:8001/ChangeName', {params: {\"id\": this.id, 'name': this.targetName}}).then(function (res) {\r\n      if(res.data.data==\"修改昵称成功\"){\r\n        alert(\"修改昵称成功\")\r\n        that.mitt1.emit('Reload')\r\n      }else{\r\n        alert(res.data.data)\r\n      }\r\n    })\r\n  },\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAUA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAAQC,kBAAkB,EAAEC,SAAS,QAAO,KAAK;AAEjD,eAAe;EACfC,KAAKA,CAAA,EAAG;IACN,MAAMC,GAAE,GAAIH,kBAAkB,CAAC;IAC/BC,SAAS,CAAC,YAAY;MACpBG,QAAQ,CAACC,KAAI,GAAI,MAAK;MACtBF,GAAG,CAACG,IAAI,CAACC,EAAC,GAAIJ,GAAG,CAACK,UAAU,CAACC,MAAM,CAACC,gBAAgB,CAACC,GAAE;MACvDR,GAAG,CAACG,IAAI,CAACM,KAAI,GAAIT,GAAG,CAACK,UAAU,CAACC,MAAM,CAACC,gBAAgB,CAACG,MAAK;MAC7Dd,KAAK,CAACe,GAAG,CAAC,sCAAsC,EAAC;QAACC,MAAM,EAAC;UAAC,IAAI,EAACZ,GAAG,CAACG,IAAI,CAACC;QAAE;MAAC,CAAC,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAC1Fd,GAAG,CAACG,IAAI,CAACY,OAAM,GAAID,GAAG,CAACX,IAAI,CAACA,IAAG;MACjC,CAAC;IACH,CAAC;EACH,CAAC;EACDA,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJY,OAAO,EAAC,EAAE;MACVC,UAAU,EAAC;IACb;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,UAAUA,CAAA,EAAG;MACX,MAAMC,IAAG,GAAI,IAAG;MAChBvB,KAAK,CAACe,GAAG,CAAC,qCAAqC,EAAE;QAACC,MAAM,EAAE;UAAC,IAAI,EAAE,IAAI,CAACR,EAAE;UAAE,MAAM,EAAE,IAAI,CAACY;QAAU;MAAC,CAAC,CAAC,CAACH,IAAI,CAAC,UAAUC,GAAG,EAAE;QACvH,IAAGA,GAAG,CAACX,IAAI,CAACA,IAAI,IAAE,QAAQ,EAAC;UACzBiB,KAAK,CAAC,QAAQ;UACdD,IAAI,CAACV,KAAK,CAACY,IAAI,CAAC,QAAQ;QAC1B,CAAC,MAAI;UACHD,KAAK,CAACN,GAAG,CAACX,IAAI,CAACA,IAAI;QACrB;MACF,CAAC;IACH;EACF;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}