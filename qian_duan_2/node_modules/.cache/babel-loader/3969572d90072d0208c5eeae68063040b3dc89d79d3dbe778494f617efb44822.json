{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from \"../Router/First\";\nimport { getCurrentInstance, onMounted, ref } from \"vue\";\nexport default {\n  setup() {\n    let SecondInput = ref(null);\n    const gci = getCurrentInstance();\n    onMounted(() => {\n      document.title = '登录';\n      document.documentElement.style.fontSize = document.documentElement.clientWidth / 100 + 'px';\n      gci.data.mitt1 = gci.appContext.config.globalProperties.$mitt1;\n    });\n    return {\n      SecondInput\n    };\n  },\n  data() {\n    return {\n      noClick: true,\n      phone: \"\",\n      password: \"\",\n      phoneNull: false,\n      passwordNull: false,\n      index: 0\n    };\n  },\n  methods: {\n    LoginUser() {\n      if (this.phone == null) {\n        alert(\"账号不能为空\");\n        return false;\n      }\n      if (this.password == null) {\n        alert(\"密码不能为空\");\n        return false;\n      }\n      let that = this;\n      let login = new URLSearchParams();\n      login.append(\"phone\", this.phone);\n      login.append(\"password\", this.password);\n      axios.post(\"/api/Login\", login).then(function (res) {\n        if (res.data.data == \"登录成功\") {\n          router.push('/Index');\n          that.mitt1.emit('Reload');\n          alert(\"登录成功\");\n        } else {\n          alert(res.data.data);\n        }\n      });\n    },\n    ExamePhone() {\n      this.index = 0;\n      if (this.phone == undefined) {\n        this.phoneNull = true;\n      } else {\n        this.phoneNull = false;\n      }\n    },\n    ExamePassword() {\n      this.index = 0;\n      if (this.password == undefined) {\n        this.passwordNull = true;\n      } else {\n        this.passwordNull = false;\n      }\n    },\n    ShowPhone() {\n      this.index = 1;\n      this.phoneNull = false;\n    },\n    ShowPassword() {\n      this.index = 2;\n      this.passwordNull = false;\n    },\n    GoSecondInput() {\n      this.SecondInput.focus();\n    }\n  }\n};","map":{"version":3,"names":["axios","router","getCurrentInstance","onMounted","ref","setup","SecondInput","gci","document","title","documentElement","style","fontSize","clientWidth","data","mitt1","appContext","config","globalProperties","$mitt1","noClick","phone","password","phoneNull","passwordNull","index","methods","LoginUser","alert","that","login","URLSearchParams","append","post","then","res","push","emit","ExamePhone","undefined","ExamePassword","ShowPhone","ShowPassword","GoSecondInput","focus"],"sources":["D:\\lin_hai_bo_ke\\qian_duan_2\\src\\Views\\Login.vue"],"sourcesContent":["<template>\r\n  <div style=\"display:flex;flex-direction:column;align-items:center;margin-top:30px;\">\r\n    <div style=\"display:flex;flex-direction:column;min-height:80px;width:40%;margin-top:20px;\">\r\n      <input @keydown.enter=\"GoSecondInput\" placeholder=\"输入您的账号\" type=\"text\" style=\"height:30px;border-radius:5px;\" v-model=\"phone\" @blur=\"ExamePhone()\" @focus=\"ShowPhone()\" :class=\"{'focus':index==1,'wrong':phoneNull}\" >\r\n      <p v-if=\"phoneNull\" style=\"color:red;font-size:1rem;\">账号不能为空</p>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:column;min-height:80px;width:40%;\">\r\n      <input type=\"password\" @keydown.enter=\"LoginUser\" ref=\"SecondInput\" placeholder=\"输入您的密码\"  style=\"height:30px;border-radius:5px;\" v-model=\"password\" @blur=\"ExamePassword()\"  @focus=\"ShowPassword()\" :class=\"{'focus':index==2,'wrong':passwordNull}\">\r\n      <p v-if=\"passwordNull\" style=\"color:red;font-size:1rem;\">密码不能为空</p>\r\n    </div>\r\n    <div style=\"display:flex;flex-direction:row;width:8%;\">\r\n      <button style=\"width:100%;height:30px;cursor:pointer;border-radius:5px;background-color:deepskyblue;color:white;font-size:1rem;\" v-on:click=\"LoginUser\">登录</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport router from \"../Router/First\";\r\nimport {getCurrentInstance, onMounted, ref} from \"vue\";\r\nexport default {\r\nsetup(){\r\n  let SecondInput=ref(null)\r\n  const gci=getCurrentInstance()\r\n  onMounted(()=>{\r\n    document.title='登录'\r\n    document.documentElement.style.fontSize = document.documentElement.clientWidth/100 + 'px';\r\n    gci.data.mitt1=gci.appContext.config.globalProperties.$mitt1\r\n  })\r\n  return{\r\n    SecondInput\r\n  }\r\n},\r\ndata(){\r\n  return {\r\n    noClick: true,\r\n    phone:\"\",\r\n    password:\"\",\r\n    phoneNull:false,\r\n    passwordNull:false,\r\n    index:0,\r\n  }\r\n},\r\nmethods:{\r\n  LoginUser(){\r\n      if(this.phone==null){\r\n        alert(\"账号不能为空\")\r\n        return false\r\n      }\r\n      if(this.password==null){\r\n        alert(\"密码不能为空\")\r\n        return false\r\n      }\r\n      let that=this\r\n      let login=new URLSearchParams;login.append(\"phone\",this.phone);login.append(\"password\",this.password);\r\n      axios.post(\"/api/Login\",login).then(function (res){\r\n        if(res.data.data==\"登录成功\"){\r\n          router.push('/Index')\r\n          that.mitt1.emit('Reload')\r\n          alert(\"登录成功\")\r\n        }else{\r\n          alert(res.data.data)\r\n        }\r\n      })\r\n  },\r\n  ExamePhone(){\r\n    this.index=0\r\n    if(this.phone==undefined){\r\n      this.phoneNull=true\r\n    }else{\r\n      this.phoneNull=false\r\n    }\r\n  },\r\n  ExamePassword(){\r\n    this.index=0\r\n    if(this.password==undefined){\r\n      this.passwordNull=true\r\n    }else{\r\n      this.passwordNull=false\r\n    }\r\n  },\r\n  ShowPhone(){\r\n    this.index=1\r\n    this.phoneNull=false\r\n  },\r\n  ShowPassword(){\r\n    this.index=2\r\n    this.passwordNull=false\r\n  },\r\n  GoSecondInput(){\r\n    this.SecondInput.focus()\r\n  }\r\n},\r\n}\r\n</script>\r\n<style scoped>*{margin:0;padding:0;list-style: none;text-decoration: none;border:0;outline: none;font-size:1rem;}\r\n.focus{border:solid 1px deepskyblue;font-size:1rem;}.wrong{border:solid 1px red;}</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}